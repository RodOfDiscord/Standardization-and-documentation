# Solution Design Document

**Repository:** [Standardization-and-documentation](https://github.com/VieshchykovOleg/Standardization-and-documentation)

## Зміст

- [1. Вступ](#1-вступ)
- [2. Функціональні вимоги](#2-функціональні-вимоги)
- [3. Нефункціональні вимоги](#3-нефункціональні-вимоги)
- [4. Обмеження](#4-обмеження)
- [5. Hardware та Software вимоги](#5-hardware-та-software-вимоги)
- [6. High-Level Архітектура](#6-high-level-архітектура)
- [7. Інфраструктура розгортання](#7-інфраструктура-розгортання)

---

## 1. Вступ

Цей документ описує архітектуру та дизайн рішення для системи зберігання фільмів з підтримкою коментарів та рейтингу. Описано функціональні й нефункціональні вимоги, обмеження, високорівневу архітектуру, інфраструктуру проєкту, вимоги до програмного забезпечення та обладнання.

---

## 2. Функціональні вимоги

1. **Фільми**:

   - Отримання списку фільмів із бази даних.
   - Отримання деталей фільму за його `id`.

2. **Коментарі**:

   - Додавання нового коментаря до конкретного фільму.
   - Отримання списку коментарів для фільму.

3. **Рейтинг**

   - Додавання оцінки до фільму

4. **Користувач**

   - Логін
   - Реєстрація

5. **Frontend**:

   - Сторінка зі списком фільмів.
   - Сторінка з деталями фільму та списком коментарів.
   - Форма додавання коментаря.
   - Форма логіну та реєстрації

---

## 3. Нефункціональні вимоги

- **Продуктивність**: час відгуку API не більше 200 мс у 95% випадків.
- **Масштабованість**: можливість горизонтального масштабування бекенд-сервісів.
- **Надійність**: не менше 99.5% часу роботи сервісів.

- **Безпека**:
  - Валідація всіх вхідних даних.
  - Захист від SQL-інʼєкцій і XSS.

- **Підтримуваність**:
  - Чистий код із розділенням шарів (контролери, сервіси, моделі).
  - Повна документація Swagger і Storybook.

---

## 4. Обмеження

- Стек технологій: PHP , JavaScript.
- Фреймворк: власна легка CMS-структура.
- База даних: MySQL.
- Використання вбудованого PHP-сервера для розробки.
- Формат документації: OpenAPI (Swagger 3.0).

---

## 5. Hardware та Software вимоги

### 5.1. Hardware

- Мінімум 2 ядра процесора
- Процесор з тактовою частотою не нижче 1GHz
- 4 Гб оперативної пам’яті
- Мінімум 10 GB вільного дискового простору
- Мережеве підключення 1 Gbps

### 5.2. Software

- PHP 8.1+
- MySQL 5.7+
- Node.js 14+ (для фронтенду)
- Composer (для залежностей PHP)
- Git (для управління версіями)

---

## 6. High-Level Архітектура

```text
[Client (Browser)]
    ↕ HTTP/HTTPS
[Frontend]
    ↕ REST
[Backend API]
    ↕ SQL
[MySQL Database]
```

1. **Клієнтська частина** (JS): взаємодіє з API через REST.
2. **API-шар** (контролери, сервіси): обробка запитів, бізнес-логіка, валідація.
3. **База даних**: MySQL, з використанням моделей-ORM.

---

## 7. Інфраструктура розгортання

| Середовище | Технології       | Опис                                      |
| ---------- | ---------------- | ----------------------------------------- |
| Dev        | Локальний сервер | `php -S localhost:8000` + локальний MySQL |
| Staging    | Docker Compose   | PHP-FPM + Nginx + MySQL                   |
| Prod       | Kubernetes       | Отримує CI/CD із GitHub Actions           |

- **CI/CD**: GitHub Actions для тестування, лінтингу, генерування Swagger, деплою в Staging.
- **Логи**: централізоване зберігання (ELK Stack або аналог).
